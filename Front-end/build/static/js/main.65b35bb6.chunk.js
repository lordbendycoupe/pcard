(this["webpackJsonpbusiness-cardgen"]=this["webpackJsonpbusiness-cardgen"]||[]).push([[0],{105:function(e,t){},121:function(e,t,r){},127:function(e,t){},174:function(e){e.exports=JSON.parse('{"cognito":{"REGION":"us-east-1","USER_POOL_ID":"us-east-1_TPIlB5AeJ","APP_CLIENT_ID":"2p0m9f0k4sbhhn3mb338uokd63"},"api":{"invokeUrl":"https://woltzw87ib.execute-api.us-east-1.amazonaws.com/staging"}}')},175:function(e,t,r){},187:function(e,t,r){"use strict";r.r(t);var a=r(4),s=r.n(a),n=r(53),i=r.n(n),c=(r(121),r(5)),o=r(6),l=r.n(o),u=r(14),d=r(9),h=r(10),m=r(13),b=r(11),p=r(106),j=r(15),f=r(52),O=r(48),v=r(2),x=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).signOut=function(){var t=Object(u.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault();try{O.a.signOut(),e.props.authObj.setAuthStatus(!1),e.props.authObj.setUser(null),e.props.authObj.setIsAdmin(!1)}catch(a){console.log(a)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsx)(a.Fragment,{children:Object(v.jsxs)("nav",{className:"navbar navbar-light",children:[Object(v.jsx)("ul",{className:"nav list-unstyled",children:Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsx)("a",{className:"navbar-brand",href:"/",style:{fontWeight:"bold"},children:"Citadel Cards"})})}),this.props.authObj.isAuthenticated&&this.props.authObj.user&&this.props.authObj.isAdmin&&Object(v.jsxs)("ul",{className:"nav justify-content-end list-unstyled",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"btn btn-outline-danger",href:"/adminview",role:"button",children:"Admin View"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"btn btn-link",href:"/editprofile",role:"button",children:"Edit Profile"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"btn btn-link",href:"/",role:"button",onClick:this.signOut,children:"Sign out"})})]}),this.props.authObj.isAuthenticated&&this.props.authObj.user&&!this.props.authObj.isAdmin&&Object(v.jsxs)("ul",{className:"nav justify-content-end list-unstyled",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"btn btn-link",href:"/editprofile",role:"button",children:"Edit Profile"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"btn btn-link",href:"/",role:"button",onClick:this.signOut,children:"Sign out"})})]}),!this.props.authObj.isAuthenticated&&Object(v.jsxs)("ul",{className:"nav justify-content-end list-unstyled",children:[Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsx)("a",{className:"btn btn-link my-2 my-lg-0",href:"/register",role:"button",children:"Register"})}),Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsx)("a",{className:"btn btn-link my-2 my-lg-0",href:"/login",role:"button",children:"Sign in"})})]})]})})}}]),r}(a.Component),g=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsx)(a.Fragment,{children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row align-items-center",children:Object(v.jsx)("div",{className:"col-lg",children:Object(v.jsxs)("div",{className:"shadow-lg jumbotron",style:{marginTop:"5vh"},children:[Object(v.jsx)("h1",{className:"display-4",children:"Citadel Cards are here"}),Object(v.jsx)("p",{className:"lead",children:"The wait is over. The only business card you'll ever need is waiting to be made."}),Object(v.jsx)("hr",{className:"my-4"}),!this.props.authObj.isAuthenticated&&Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Sign in to get started"}),Object(v.jsx)("a",{className:"btn btn-primary btn-lg",href:"/login",role:"button",children:"Sign in"})]}),this.props.authObj.isAuthenticated&&this.props.authObj.user&&Object(v.jsx)("a",{className:"btn btn-primary btn-lg",href:"/generate",role:"button",children:"Generate Now"})]})})})})})}}]),r}(a.Component),y=r(27);var w=function(e){return e.formerrors&&(e.formerrors.blankfield||e.formerrors.passwordmatch)?Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"font-weight-bold text-danger",children:e.formerrors.passwordmatch?"Password value does not match confirm password value":""}),Object(v.jsx)("div",{className:"font-weight-bold text-danger",children:e.formerrors.blankfield?"All fields are required":""})]}):e.apierrors?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"font-weight-bold text-danger",children:e.apierrors})}):e.formerrors&&e.formerrors.cognito?Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"font-weight-bold text-danger",children:[" ",e.formerrors.cognito.message," "]})}):Object(v.jsx)("div",{})};var N=function(e,t){for(var r=document.getElementsByClassName("badValue"),a=0;a<r.length;a++)r[a].classList.contains("error")||r[a].classList.remove("badValue");return t.hasOwnProperty("username")&&""===t.username?(document.getElementById("username").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("firstname")&&""===t.firstname?(document.getElementById("firstname").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("lastname")&&""===t.lastname?(document.getElementById("lastname").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("email")&&""===t.email?(document.getElementById("email").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("verificationcode")&&""===t.verificationcode?(document.getElementById("verificationcode").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("password")&&""===t.password?(document.getElementById("password").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("oldpassword")&&""===t.oldpassword?(document.getElementById("oldpassword").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("newpassword")&&""===t.newpassword?(document.getElementById("newpassword").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("confirmpassword")&&""===t.confirmpassword?(document.getElementById("confirmpassword").classList.add("badValue"),{blankfield:!0}):t.hasOwnProperty("password")&&t.hasOwnProperty("confirmpassword")&&t.password!==t.confirmpassword?(document.getElementById("password").classList.add("badValue"),document.getElementById("confirmpassword").classList.add("badValue"),{passwordmatch:!0}):t.hasOwnProperty("newpassword")&&t.hasOwnProperty("confirmpassword")&&t.newpassword!==t.confirmpassword?(document.getElementById("newpassword").classList.add("badValue"),document.getElementById("confirmpassword").classList.add("badValue"),{passwordmatch:!0}):void 0},k=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.clearErrorState(),(a=N(r,e.state))&&e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.a.signIn(e.state.username,e.state.password);case 7:s=t.sent,e.props.authObj.setAuthStatus(!0),e.props.authObj.setUser(s),e.props.history.push("/"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),n=null,n=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),{},{cognito:n})});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("badValue")},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Log In"}),Object(v.jsx)(w,{formerrors:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("div",{className:"formgroup",children:Object(v.jsx)("input",{className:"input form-control",type:"text",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username or email",value:this.state.username,onChange:this.onInputChange})}),Object(v.jsxs)("div",{className:"formgroup",children:[Object(v.jsx)("input",{className:"input form-control",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),Object(v.jsx)("a",{href:"/forgotpassword",children:"Forgot password?"})]}),Object(v.jsx)("button",{className:"btn btn-primary",children:"Login"})]})]})}}]),r}(a.Component),C=k,E=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},e.handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var a,s,n,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.clearErrorState(),(a=N(r,e.state))&&e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),a)}),s=e.state,n=s.username,i=s.email,o=s.password,t.prev=5,t.next=8,f.a.signUp({username:n,password:o,attributes:{email:i}});case 8:e.props.history.push("/welcome"),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(5),u=null,u=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),{},{cognito:u})});case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("badValue")},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Register"}),Object(v.jsx)(w,{formerrors:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"formgroup",children:[Object(v.jsx)("label",{for:"username",children:"Username"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"Enter username",value:this.state.username,onChange:this.onInputChange})]}),Object(v.jsxs)("div",{className:"formgroup",children:[Object(v.jsx)("label",{for:"email",children:"Email"}),Object(v.jsx)("input",{className:"input form-control",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange}),Object(v.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(v.jsxs)("div",{className:"formgroup",children:[Object(v.jsx)("label",{for:"password",children:"Password"}),Object(v.jsx)("input",{className:"input form-control",type:"password",id:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.onInputChange})]}),Object(v.jsxs)("div",{className:"formgroup",children:[Object(v.jsx)("label",{for:"confirmpassword",children:"Confirm Password"}),Object(v.jsx)("input",{className:"input form-control",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange})]}),Object(v.jsx)("button",{className:"btn btn-primary",children:"Register"})]})]})}}]),r}(a.Component),S=E;function U(){return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Thanks for registering!"}),Object(v.jsx)("p",{children:"We've sent an email to the given email address to verify your ownership; please follow the instructions in order to use your account."})]})}var A=r(105),F=r.n(A),_=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={username:e.props.authObj.user.username,email:e.props.authObj.user.attributes.email},e.handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.redirectUnauthorizedUsers=function(t){e.props.authObj.isAuthenticated||e.props.history.push("/")},e}return Object(h.a)(r,[{key:"onUsernameChange",value:function(e){this.setState({username:e})}},{key:"onEmailChange",value:function(e){this.setState({email:e})}},{key:"render",value:function(){var e=this;return this.redirectUnauthorizedUsers(),Object(v.jsx)("section",{children:this.props.authObj.isAuthenticated&&Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Profile Details"}),Object(v.jsx)("br",{}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{className:"formgroup",id:"emailFormGroup",style:{display:"none"},children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:function(t){return e.onEmailChange(t.target.value)}})]}),Object(v.jsxs)("div",{className:"formgroup",id:"usernameFormGroup",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username",value:this.state.username,onChange:function(t){return e.onUsernameChange(t.target.value)}})]}),Object(v.jsxs)("div",{className:"formgroup",id:"fullnameFormGroup",children:[Object(v.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"fullname","aria-describedby":"fullnameHelp",placeholder:"Enter full name"})]}),Object(v.jsxs)("div",{className:"formgroup",id:"birthdayFormGroup",children:[Object(v.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"birthday","aria-describedby":"birthdayHelp",placeholder:"Enter birthday"}),Object(v.jsx)("small",{id:"birthdayHelp",className:"form-text text-muted",children:"Please use MM/DD/YYYY format"})]}),Object(v.jsxs)("div",{className:"formgroup",id:"jobtitleFormGroup",children:[Object(v.jsx)("label",{htmlFor:"jobtitle",children:"Job Title"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"jobtitle","aria-describedby":"jobtitleHelp",placeholder:"Enter Job Title"})]}),Object(v.jsxs)("div",{className:"formgroup",id:"employerFormGroup",children:[Object(v.jsx)("label",{htmlFor:"employer",children:"Employer"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"employer","aria-describedby":"employerHelp",placeholder:"Enter employer"})]}),Object(v.jsxs)("div",{className:"formgroup",id:"cityFormGroup",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"city","aria-describedby":"cityHelp",placeholder:"Enter city"})]}),Object(v.jsxs)("div",{className:"formgroup",id:"phonenumberFormGroup",children:[Object(v.jsx)("label",{htmlFor:"phonenumber",children:"Phone Number"}),Object(v.jsx)("input",{className:"input form-control",type:"text",id:"phonenumber","aria-describedby":"phonenumberHelp",placeholder:"Enter phone number"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"formgroup",id:"passwordForm",children:[Object(v.jsx)("a",{className:"btn btn-outline-warning",href:"/changepassword",children:"Change Password"}),Object(v.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"This will redirect you to a different page."})]}),Object(v.jsx)("div",{className:"formgroup",children:Object(v.jsx)("button",{className:"btn btn-primary",id:"submitBtn",children:"Save Changes"})})]})]})})}}]),r}(a.Component),I=_,P=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={email:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.forgotPasswordHandler=function(){var t=Object(u.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.clearErrorState(),(a=N(r,e.state))&&e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.a.forgotPassword(e.state.email);case 7:e.props.history.push("/verify"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("badValue")},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsx)("section",{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"Forgot your password?"}),Object(v.jsx)("p",{children:"Enter your email address and, if it's valid, you will receive instructions on how to reset your password."}),Object(v.jsx)(w,{formerrors:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.forgotPasswordHandler,children:[Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("input",{type:"email",className:"input",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("button",{className:"btn btn-success",children:"Submit"})})]})]})})}}]),r}(a.Component),B=P,G=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={verificationcode:"",email:"",newpassword:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.passwordVerificationHandler=function(){var t=Object(u.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.clearErrorState(),(a=N(r,e.state))&&e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.a.forgotPasswordSubmit(e.state.email,e.state.verificationcode,e.state.newpassword);case 7:e.props.history.push("/confirm"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("badValue")},e}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsx)("section",{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"Set new password"}),Object(v.jsx)("p",{children:"Enter the verification code sent to your email address below, your email address and a new password."}),Object(v.jsx)(w,{formerrors:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.passwordVerificationHandler,children:[Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("input",{type:"text",className:"input",id:"verificationcode","aria-describedby":"verificationCodeHelp",placeholder:"Enter verification code",value:this.state.verificationcode,onChange:this.onInputChange})}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("input",{className:"input",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("input",{type:"password",className:"input",id:"newpassword",placeholder:"New password",value:this.state.newpassword,onChange:this.onInputChange})}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("button",{className:"btn btn-success",children:"Confirm reset"})})]})]})})}}]),r}(a.Component),V=G,D=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("p",{children:"Your password has been successfully updated!"})})})}}]),r}(a.Component),L=D,H=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={email:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.forgotPasswordHandler=function(){var t=Object(u.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.clearErrorState(),(a=N(r,e.state))&&e.setState({errors:Object(c.a)(Object(c.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.a.forgotPassword(e.state.email);case 7:e.props.history.push("/verify"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectUnauthorizedUsers=function(t){e.props.authObj.isAuthenticated||e.props.history.push("/")},e.onInputChange=function(t){e.setState(Object(y.a)({},t.target.id,t.target.value)),document.getElementById(t.target.id).classList.remove("badValue")},e}return Object(h.a)(r,[{key:"render",value:function(){return this.redirectUnauthorizedUsers(),Object(v.jsx)("section",{children:this.props.authObj.isAuthenticated&&Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"Changing your password"}),Object(v.jsx)("p",{children:"Enter your email address and, if it's valid, you will receive instructions on how to change your password."}),Object(v.jsx)(w,{formerrors:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.forgotPasswordHandler,children:[Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("input",{type:"email",className:"input",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("button",{className:"btn btn-success",children:"Submit"})})]})]})})}}]),r}(a.Component),M=H,T=r(73);T.DataTable=r(155);var R=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.$el=T(this.el);for(var e=[],t=0;t<this.props.data.length;t++){var r=this.props.data[t],a=r.email,s=r.username,n=r.fullname,i=r.birthday,c=r.job_title,o=r.employer,l=r.city,u=r.phone_number,d=[],h=[];d.push(a,s,n,i,c,o,l,u);for(var m=0;m<8;m++)void 0===d[m]?h.push(""):h.push(d[m]);e.push(h)}this.$el.DataTable({data:e,columns:[{title:"Email"},{title:"Username"},{title:"Full Name"},{title:"Birthday"},{title:"Job Title"},{title:"Employer"},{title:"City"},{title:"Phone Number"}],paging:!1,deferRender:!0,scroller:!0,cache:!1})}},{key:"componentWillUnmount",value:function(){this.$el.destroy(!0)}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"adminresource",id:"allusersdiv",children:Object(v.jsx)("table",{className:"display",width:"100%",ref:function(t){return e.el=t}})})}}]),r}(a.Component),z=r(29),J=r.n(z),Y=r(174),W=r(73),X=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).handleSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.redirectUnauthorizedUsers=function(t){e.props.authObj.isAdmin||e.props.history.push("/")},e.readUsers=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(".adminViewElem").hide(),e.next=3,J.a.get("".concat(Y.api.invokeUrl,"/users"));case 3:t=(t=e.sent).data.Items,console.log(t),i.a.render(Object(v.jsx)(R,{data:t}),document.getElementById("readUsersDiv")),W("#readUsersDiv").show();case 8:case"end":return e.stop()}}),e)}))),e.displayProfileFields=function(){var t=Object(u.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(".adminViewElem").hide(),W("#emailFormGroup").show(),W("#usernameFormGroup").show(),W("#fullnameFormGroup").show(),W("#birthdayFormGroup").show(),W("#jobtitleFormGroup").show(),W("#employerFormGroup").show(),W("#cityFormGroup").show(),W("#phonenumberFormGroup").show(),a=i.a.render(Object(v.jsx)(I,Object(c.a)(Object(c.a)({},e.props),{},{authObj:e.props.authObj})),document.getElementById("createUserOptDiv")),W("#passwordForm").hide(),"create"===r?(W("#submitBtn").text("Create User"),W("#submitBtn").on("click",e.createUser),W("#emailFormGroup").show(),W("#fullnameFormGroup").hide(),W("#birthdayFormGroup").hide(),W("#jobtitleFormGroup").hide(),W("#employerFormGroup").hide(),W("#cityFormGroup").hide(),W("#phonenumberFormGroup").hide()):"update"===r?(W("#submitBtn").text("Update User"),W("#submitBtn").on("click",e.updateUser)):(W("#submitBtn").text("Delete User"),W("#submitBtn").on("click",e.deleteUser),W("#emailFormGroup").show(),W("#fullnameFormGroup").hide(),W("#birthdayFormGroup").hide(),W("#jobtitleFormGroup").hide(),W("#employerFormGroup").hide(),W("#cityFormGroup").hide(),W("#phonenumberFormGroup").hide()),a.setState({email:""}),a.setState({username:""}),W("#createUserOptDiv").show();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createUser=function(){var t=Object(u.a)(l.a.mark((function t(r){var a,s,n,i,c,o,u,d,h,m,b,p,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r.preventDefault(),W("#submitBtn").off(),W(".adminViewElem").hide(),t.prev=3,a={email:W("#email").val(),username:W("#username").val(),fullname:W("#fullname").val(),birthday:W("#birthday").val(),job_title:W("#jobtitle").val(),employer:W("#employer").val(),city:W("#city").val(),phone_number:W("#phonenumber").val()},s=new Uint32Array(1),window.crypto.getRandomValues(s),n=s[0].toString().split(""),i=Math.floor(Math.random()*(n.length-0)+0),c=Math.floor(Math.random()*(n.length-0)+0),o=Math.floor(Math.random()*(n.length-0)+0),u=String.fromCharCode(Math.floor(25*Math.random()+65)),d=String.fromCharCode(Math.floor(25*Math.random()+97)),h=String.fromCharCode(94,36,42,46,40,41,60,61,63,44).split("")[Math.floor(9*Math.random()+0)],m=[],b=0;b<n.length;b++)b===i&&m.push(u),b===o&&m.push(h),b===c&&m.push(d),m.push(n[b]);return m=m.join(""),p=a.username,j=a.email,t.next=20,f.a.signUp({username:p,password:m,attributes:{email:j}});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),console.log(t.t0);case 25:e.readUsers();case 26:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(e){return t.apply(this,arguments)}}(),e.updateUser=function(){var t=Object(u.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),W("#submitBtn").off(),W(".adminViewElem").hide(),t.prev=3,a={email:W("#email").val(),username:W("#username").val(),fullname:W("#fullname").val(),birthday:W("#birthday").val(),job_title:W("#jobtitle").val(),employer:W("#employer").val(),city:W("#city").val(),phone_number:W("#phonenumber").val()},t.next=7,J.a.patch("".concat(Y.api.invokeUrl,"/users/").concat(a.email),a);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:e.readUsers();case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteUser=function(){var t=Object(u.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),W("#submitBtn").off(),W(".adminViewElem").hide(),t.prev=3,t.next=6,J.a.delete("".concat(Y.api.invokeUrl,"/users/").concat(W("#username").val()));case 6:return t.next=8,J.a.delete("".concat(Y.api.invokeUrl,"/users/").concat(W("#email").val()));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:e.readUsers();case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(r,[{key:"render",value:function(){var e=this;return this.redirectUnauthorizedUsers(),Object(v.jsxs)("section",{children:[this.props.authObj.isAdmin&&Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Admin Commands"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"formgroup form-check-inline",children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.displayProfileFields("create")},children:"Create User"})}),Object(v.jsx)("div",{className:"formgroup form-check-inline",children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.readUsers,children:"Read Users"})}),Object(v.jsx)("div",{className:"formgroup form-check-inline",children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.displayProfileFields("update")},children:"Update Users"})}),Object(v.jsx)("div",{className:"formgroup form-check-inline",children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.displayProfileFields("delete")},children:"Delete User"})})]}),Object(v.jsx)("div",{className:"adminViewElem",id:"readUsersDiv"}),Object(v.jsx)("div",{className:"adminViewElem",id:"createUserOptDiv"})]})}}]),r}(a.Component),$=X,q=(r(175),function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={isAuthenticated:!1,isAuthenticating:!0,user:null,isAdmin:!1},e.setAuthStatus=function(t){e.setState({isAuthenticated:t})},e.setUser=function(t){e.setState({user:t})},e.setAdminStatus=function(t){e.setState({isAdmin:t})},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.currentAuthenticatedUser();case 3:"Administrators"===(t=e.sent).signInUserSession.accessToken.payload["cognito:groups"][0]&&this.setAdminStatus(!0),this.setAuthStatus(!0),this.setUser(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:this.setState({isAuthenticating:!1});case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,user:this.state.user,isAdmin:this.state.isAdmin,setAuthStatus:this.setAuthStatus,setUser:this.setUser,setAdminStatus:this.setAdminStatus};return!this.state.isAuthenticating&&Object(v.jsxs)("div",{children:[Object(v.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css",integrity:"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO",crossOrigin:"anonymous"}),Object(v.jsx)("link",{rel:"stylesheet",href:"mainstyle.css"}),Object(v.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://cdn.datatables.net/v/dt/dt-1.11.3/sc-2.0.5/sp-1.4.0/sl-1.3.3/datatables.min.css"}),Object(v.jsxs)(p.a,{children:[Object(v.jsx)(x,{authObj:e}),Object(v.jsx)(j.a,{exact:!0,path:"/",render:function(t){return Object(v.jsx)(g,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/login",render:function(t){return Object(v.jsx)(C,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/register",render:function(t){return Object(v.jsx)(S,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/welcome",render:function(t){return Object(v.jsx)(U,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/generate",render:function(t){return Object(v.jsx)(F.a,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/editprofile",render:function(t){return Object(v.jsx)(I,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/forgotpassword",render:function(t){return Object(v.jsx)(B,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/verify",render:function(t){return Object(v.jsx)(V,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/confirm",render:function(t){return Object(v.jsx)(L,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/changepassword",render:function(t){return Object(v.jsx)(M,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}}),Object(v.jsx)(j.a,{exact:!0,path:"/adminview",render:function(t){return Object(v.jsx)($,Object(c.a)(Object(c.a)({},t),{},{authObj:e}))}})]})]})}}]),r}(a.Component)),Z=q,K={aws_project_region:"us-east-1",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_TPIlB5AeJ",aws_user_pools_web_client_id:"2p0m9f0k4sbhhn3mb338uokd63",oauth:{domain:"staging-auth.ryleygg.com.auth.us-east-1.amazoncognito.com"},aws_cognito_login_mechanisms:["PREFERRED_USERNAME"],aws_cognito_signup_attributes:[],aws_cognito_mfa_types:[],aws_cognito_password_protection_settings:{passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:[],aws_dynamodb_all_tables_region:"us-east-1",aws_dynamodb_table_schemas:[{tableName:"Users-staging",region:"us-east-1"}],aws_cloud_logic_custom:[{name:"BusinessCardgenUserApi",endpoint:"https://woltzw87ib.execute-api.us-east-1.amazonaws.com/staging",region:"us-east-1"}]};r(35).default.configure(K),i.a.render(Object(v.jsxs)(s.a.StrictMode,{children:[" ",Object(v.jsx)(Z,{})," "]}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.65b35bb6.chunk.js.map